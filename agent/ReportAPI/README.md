# Zucks Ad Network 代理店様向けレポートAPI仕様書 v9.0

リリース日: 2023/08/08

### 概要

Zucks Ad Networkのレポートを日単位で取得するAPIです。  

過去の更新履歴は[CHANGELOG](./CHANGELOG.md)をご確認ください。


# レポートAPI仕様

### リクエスト

レポートはHTTPリクエストによって取得することが出来ます。

レポートAPIは弊社発行のAPI認証トークンが必要です。  
API認証トークンの発行・再発行は代理店管理画面からできます。
- 管理画面メニューの「APIキー」からAPIキー管理画面を開き、レポートAPI用 APIキーの操作を行ってください。

#### URL

```
https://ms.zucksadnetwork.com/web_api/agent/report/v9?date={date}
```

| GETパラメータ | 値 | 
| --- | --- |
| date | YYYY-MM-DDで表されたレポート日付 (例: "2023-08-08") |

#### HTTPメソッド

GET

#### HTTPヘッダー

| ヘッダー | 値 | 
| --- | --- |
| x-api-key | 弊社発行のAPI認証トークン |

#### リクエストサンプル

下記はcurlコマンドを用いる場合です。

``` sh
$ curl -H 'x-api-key:abcdef12-3456-....' -X GET 'https://ms.zucksadnetwork.com/web_api/agent/report/v9?date=2023-08-08'
```

### レスポンス

CSV形式のレポートを返します。  

#### HTTPステータスコード

| コード | 概要 | 詳細 |
| --- | ---- | ----- |
| 200 | レポート取得成功 | |
| 204 | レポートが存在しない | 配信実績が無い場合や、集計がまだ終わっていない可能性があります。 |
| 400 | パラメータが不正 | GETパラメータが正しく付与されているかご確認ください。 |
| 401 | 認証に失敗 | HTTPヘッダーにAPI認証トークンが設定されているかご確認ください。 |
| 404 | リソースが存在しない | URLが正しいかご確認ください。 |
| 5xx | サーバーエラー | 連続して発生する場合は、お手数ですが弊社担当までお問い合わせください。 |

#### CSV文字コード

UTF-8

#### CSV列の詳細

| 列 | 型 | 項目名 | 補足 |
| --- | --- | --- | --- |
| 1 | string | レポート日付 | YYYY-MM-DD |
| 2 | decimal | 発生金額 | |
| 3 | integer | imp数 | |
| 4 | integer | click数 | |
| 5 | integer | CV数 | |
| 6 | decimal | CPC単価 | |
| 7 | string | オーダーグループID | |
| 8 | string | オーダーグループ名 | |
| 9 | string | オーダーID | |
| 10 | string | オーダー名 | |
| 11 | string | 広告主様 | |
| 12 | string | キャンペーンID | |
| 13 | string | キャンペーン名 | |
| 14 | string | クリエイティブID | |
| 15 | string | クリエイティブ名 | |
| 16 | string | 入稿URL | |
| 17 | integer | クリエイティブタイプ | 1:画像、 2:第三者配信、 4:ネイティブ |
| 18 | string | クリエイティブ画像のURL | |
| 19 | string | ネイティブのタイトル | クリエイティブタイプが4以外は空文字 |
| 20 | string | ネイティブのテキスト | クリエイティブタイプが4以外は空文字 |
| 21 | string | 配信OS | iOS、 Android、 --- |
| 22 | string | 広告サイズ | 320×50 の形式 |

#### レスポンス例

```
$ curl -H 'x-api-key:abcdef12-3456-....' -X GET 'https://ms.zucksadnetwork.com/web_api/agent/report/v9?date=2023-08-08'
2023-08-08,704179.52,1449872,34065,221,20.67,1,【テスト】オーダーグループ,1,【TEST】テストオーダー,広告主,1,テストキャンペーン,1,クリエイティブ,http://zucks.co.jp/...,,,---,"320,48"
```

### FAQ

##### レポートはいつ集計されますか？

対象日のレポートは、翌日午前4時頃までに集計が行われます。

* 2023/08/08のレポート => 2023/08/09 午前4時 集計完了

##### 集計が終わっているはずなのに、204が返却される

対象日に配信実績が無い場合も、空のレポートとなるため204を返却します。

※ その他ご不明な点がございましたら、弊社担当までお問いわせください。
